<footer class="site-footer">
  <div class="footer-grid">
    <div class="footer-column">
      <h4>Studio & Media</h4>
      <ul>
        <li><a href="/links">Links</a></li>
        <li><a href="/blog/">StudioRich Blog</a></li>
        <li><a href="https://studiorich.shop/library">Music Library</a></li>
        <li><a href="https://studiorich.shop/presskit">Press Kit</a></li>
      </ul>
      <p><a href="https://studiorich.shop">Explore more from Studio Rich</a></p>
    </div>
    <div class="footer-column">
      <h4>Community & Support</h4>
      <ul>
        <li><a href="/hollowbookco/">The Café at HollowBookCo</a></li>
        <li>
          <a href="/reading-room?pack=hollow&q=0&duration=30&rotate=1"
            >The Reading Room</a
          >
        </li>
        <li><a href="https://ko-fi.com/studiorich">Support with Ko-fi</a></li>
      </ul>
    </div>
    <div class="footer-column">
      <h4>GET YOUR SEAT AT THE TABLE</h4>
      <form
        id="subscribeForm"
        class="subscribe-form"
        action="https://formspree.io/f/xqalnobw"
        method="POST"
        novalidate
      >
        <input
          type="email"
          name="email"
          placeholder="EMAIL ADDRESS"
          required
          inputmode="email"
          autocomplete="email"
          aria-label="Email address"
        />

        <!-- honeypot (spam trap) -->
        <input
          type="text"
          name="_gotcha"
          class="hp"
          tabindex="-1"
          autocomplete="off"
        />

        <!-- helpful extra fields -->
        <input type="hidden" name="source" value="Footer" />
        <input type="hidden" name="site" value="studiorich.shop" />

        <button type="submit">SUBSCRIBE</button>
        <p class="form-msg" role="status" aria-live="polite"></p>
        <noscript>
          <p class="form-msg">
            JavaScript is off. Submitting will open a Formspree page.
          </p>
        </noscript>
      </form>
    </div>
  </div>

  <div class="footer-bottom">
    <p>&copy; 2025 StudioRich, Lo-Fi Lives Here</p>

    <div class="footer-links">
      <!-- Social Icons -->
      <div class="social-icons">
        <a href="https://www.facebook.com/StudioRichNYC" target="_blank">
          <img src="/assets/img/logos/facebook.svg" alt="Facebook" />
        </a>
        <a href="https://instagram.com/_studiorich" target="_blank">
          <img src="/assets/img/logos/instagram.svg" alt="Instagram" />
        </a>
        <a href="https://tiktok.com/@studio.rich" target="_blank">
          <img src="/assets/img/logos/tiktok.svg" alt="TikTok" />
        </a>
        <a href="https://x.com/studiorxch" target="_blank">
          <img src="/assets/img/logos/x.svg" alt="X" />
        </a>
        <a href="https://youtube.com/@studio-rich" target="_blank">
          <img src="/assets/img/logos/youtube.svg" alt="YouTube" />
        </a>
      </div>

      <!-- Music Icons -->
      <div class="music-icons">
        <a href="https://open.spotify.com/artist/your-link" target="_blank">
          <img src="/assets/img/logos/spotify.svg" alt="Spotify" />
        </a>
        <a href="https://soundcloud.com/your-link" target="_blank">
          <img src="/assets/img/logos/soundcloud.svg" alt="SoundCloud" />
        </a>
        <a href="https://bandcamp.com/your-link" target="_blank">
          <img src="/assets/img/logos/bandcamp.svg" alt="Bandcamp" />
        </a>
        <a href="https://twitch.tv/your-link" target="_blank">
          <img src="/assets/img/logos/twitch.svg" alt="Twitch" />
        </a>
      </div>
    </div>
  </div>
</footer>

<script>
  document.addEventListener("submit", async (e) => {
    const form = e.target;
    if (!form.matches("#subscribeForm")) return;

    e.preventDefault();

    const btn = form.querySelector("button[type='submit']");
    const msg = form.querySelector(".form-msg");
    const data = new FormData(form);

    // basic client-side validation
    const email = (data.get("email") || "").toString().trim();
    if (!email || !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
      msg.textContent = "Please enter a valid email.";
      return;
    }

    // UI state
    btn.disabled = true;
    const prior = btn.textContent;
    btn.textContent = "Subscribing…";
    msg.textContent = "";

    try {
      const res = await fetch(form.action, {
        method: "POST",
        body: data,
        headers: { Accept: "application/json" },
      });

      if (res.ok) {
        msg.textContent = "You’re in. Check your email for confirmation.";
        form.reset();
      } else {
        const err = await res.json().catch(() => ({}));
        const detail =
          (err.errors && err.errors.map((e) => e.message).join(", ")) ||
          "Something went wrong.";
        msg.textContent = "Oops — " + detail;
      }
    } catch (err) {
      msg.textContent = "Network error. Try again in a moment.";
    } finally {
      btn.disabled = false;
      btn.textContent = prior;
    }
  });
</script>
